{"ast":null,"code":"import { safeIfNeeded, wrap } from \"./_util/arrayIterator.mjs\";\nimport { brand, hasFloat16ArrayBrand } from \"./_util/brand.mjs\";\nimport { convertToNumber, roundToFloat16Bits } from \"./_util/converter.mjs\";\nimport { isArrayBuffer, isCanonicalIntegerIndexString, isNativeBigIntTypedArray, isNativeTypedArray, isObject, isOrdinaryArray, isOrdinaryNativeTypedArray, isSharedArrayBuffer } from \"./_util/is.mjs\";\nimport { ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER, CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT, CANNOT_MIX_BIGINT_AND_OTHER_TYPES, DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH, ITERATOR_PROPERTY_IS_NOT_CALLABLE, OFFSET_IS_OUT_OF_BOUNDS, REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE, SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT, THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY, THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT } from \"./_util/messages.mjs\";\nimport { ArrayBufferIsView, ArrayPrototypeJoin, ArrayPrototypePush, ArrayPrototypeToLocaleString, NativeArrayBuffer, NativeObject, NativeProxy, NativeRangeError, NativeTypeError, NativeUint16Array, NativeWeakMap, NativeWeakSet, NumberIsNaN, ObjectDefineProperty, ObjectFreeze, ObjectHasOwn, ObjectPrototype__lookupGetter__, ReflectApply, ReflectConstruct, ReflectDefineProperty, ReflectGet, ReflectGetOwnPropertyDescriptor, ReflectHas, ReflectOwnKeys, ReflectSet, ReflectSetPrototypeOf, SymbolIterator, SymbolToStringTag, TypedArray, TypedArrayPrototype, TypedArrayPrototypeCopyWithin, TypedArrayPrototypeEntries, TypedArrayPrototypeFill, TypedArrayPrototypeGetBuffer, TypedArrayPrototypeGetByteOffset, TypedArrayPrototypeGetLength, TypedArrayPrototypeKeys, TypedArrayPrototypeReverse, TypedArrayPrototypeSet, TypedArrayPrototypeSlice, TypedArrayPrototypeSort, TypedArrayPrototypeSubarray, TypedArrayPrototypeValues, Uint16ArrayFrom, WeakMapPrototypeGet, WeakMapPrototypeHas, WeakMapPrototypeSet, WeakSetPrototypeAdd, WeakSetPrototypeHas } from \"./_util/primordials.mjs\";\nimport { IsDetachedBuffer, SpeciesConstructor, ToIntegerOrInfinity, ToLength, defaultCompare } from \"./_util/spec.mjs\";\nconst BYTES_PER_ELEMENT = 2;\n\n/** @typedef {Uint16Array & { __float16bits: never }} Float16BitsArray */\n\n/** @type {WeakMap<Float16Array, Float16BitsArray>} */\nconst float16bitsArrays = new NativeWeakMap();\n\n/**\n * @param {unknown} target\n * @returns {target is Float16Array}\n */\nexport function isFloat16Array(target) {\n  return WeakMapPrototypeHas(float16bitsArrays, target) || !ArrayBufferIsView(target) && hasFloat16ArrayBrand(target);\n}\n\n/**\n * @param {unknown} target\n * @throws {TypeError}\n * @returns {asserts target is Float16Array}\n */\nfunction assertFloat16Array(target) {\n  if (!isFloat16Array(target)) {\n    throw NativeTypeError(THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT);\n  }\n}\n\n/**\n * @param {unknown} target\n * @param {number=} count\n * @throws {TypeError}\n * @returns {asserts target is Uint8Array|Uint8ClampedArray|Uint16Array|Uint32Array|Int8Array|Int16Array|Int32Array|Float16Array|Float32Array|Float64Array}\n */\nfunction assertSpeciesTypedArray(target, count) {\n  const isTargetFloat16Array = isFloat16Array(target);\n  const isTargetTypedArray = isNativeTypedArray(target);\n  if (!isTargetFloat16Array && !isTargetTypedArray) {\n    throw NativeTypeError(SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);\n  }\n  if (typeof count === \"number\") {\n    let length;\n    if (isTargetFloat16Array) {\n      const float16bitsArray = getFloat16BitsArray(target);\n      length = TypedArrayPrototypeGetLength(float16bitsArray);\n    } else {\n      length = TypedArrayPrototypeGetLength(target);\n    }\n    if (length < count) {\n      throw NativeTypeError(DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH);\n    }\n  }\n  if (isNativeBigIntTypedArray(target)) {\n    throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n  }\n}\n\n/**\n * @param {Float16Array} float16\n * @throws {TypeError}\n * @returns {Float16BitsArray}\n */\nfunction getFloat16BitsArray(float16) {\n  const float16bitsArray = WeakMapPrototypeGet(float16bitsArrays, float16);\n  if (float16bitsArray !== undefined) {\n    const buffer = TypedArrayPrototypeGetBuffer(float16bitsArray);\n    if (IsDetachedBuffer(buffer)) {\n      throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n    }\n    return float16bitsArray;\n  }\n\n  // from another Float16Array instance (a different version?)\n  const buffer = /** @type {any} */float16.buffer;\n  if (IsDetachedBuffer(buffer)) {\n    throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n  }\n  const cloned = ReflectConstruct(Float16Array, [buffer, /** @type {any} */float16.byteOffset, /** @type {any} */float16.length], float16.constructor);\n  return WeakMapPrototypeGet(float16bitsArrays, cloned);\n}\n\n/**\n * @param {Float16BitsArray} float16bitsArray\n * @returns {number[]}\n */\nfunction copyToArray(float16bitsArray) {\n  const length = TypedArrayPrototypeGetLength(float16bitsArray);\n  const array = [];\n  for (let i = 0; i < length; ++i) {\n    array[i] = convertToNumber(float16bitsArray[i]);\n  }\n  return array;\n}\n\n/** @type {WeakSet<Function>} */\nconst TypedArrayPrototypeGetters = new NativeWeakSet();\nfor (const key of ReflectOwnKeys(TypedArrayPrototype)) {\n  // @@toStringTag getter property is defined in Float16Array.prototype\n  if (key === SymbolToStringTag) {\n    continue;\n  }\n  const descriptor = ReflectGetOwnPropertyDescriptor(TypedArrayPrototype, key);\n  if (ObjectHasOwn(descriptor, \"get\") && typeof descriptor.get === \"function\") {\n    WeakSetPrototypeAdd(TypedArrayPrototypeGetters, descriptor.get);\n  }\n}\nconst handler = ObjectFreeze( /** @type {ProxyHandler<Float16BitsArray>} */{\n  get(target, key, receiver) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\n      return convertToNumber(ReflectGet(target, key));\n    }\n\n    // %TypedArray%.prototype getter properties cannot called by Proxy receiver\n    if (WeakSetPrototypeHas(TypedArrayPrototypeGetters, ObjectPrototype__lookupGetter__(target, key))) {\n      return ReflectGet(target, key);\n    }\n    return ReflectGet(target, key, receiver);\n  },\n  set(target, key, value, receiver) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\n      return ReflectSet(target, key, roundToFloat16Bits(value));\n    }\n    return ReflectSet(target, key, value, receiver);\n  },\n  getOwnPropertyDescriptor(target, key) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\n      const descriptor = ReflectGetOwnPropertyDescriptor(target, key);\n      descriptor.value = convertToNumber(descriptor.value);\n      return descriptor;\n    }\n    return ReflectGetOwnPropertyDescriptor(target, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key) && ObjectHasOwn(descriptor, \"value\")) {\n      descriptor.value = roundToFloat16Bits(descriptor.value);\n      return ReflectDefineProperty(target, key, descriptor);\n    }\n    return ReflectDefineProperty(target, key, descriptor);\n  }\n});\nexport class Float16Array {\n  /** @see https://tc39.es/ecma262/#sec-typedarray */\n  constructor(input, _byteOffset, _length) {\n    /** @type {Float16BitsArray} */\n    let float16bitsArray;\n    if (isFloat16Array(input)) {\n      float16bitsArray = ReflectConstruct(NativeUint16Array, [getFloat16BitsArray(input)], new.target);\n    } else if (isObject(input) && !isArrayBuffer(input)) {\n      // object without ArrayBuffer\n      /** @type {ArrayLike<unknown>} */\n      let list;\n      /** @type {number} */\n      let length;\n      if (isNativeTypedArray(input)) {\n        // TypedArray\n        list = input;\n        length = TypedArrayPrototypeGetLength(input);\n        const buffer = TypedArrayPrototypeGetBuffer(input);\n        const BufferConstructor = !isSharedArrayBuffer(buffer) ? /** @type {ArrayBufferConstructor} */SpeciesConstructor(buffer, NativeArrayBuffer) : NativeArrayBuffer;\n        if (IsDetachedBuffer(buffer)) {\n          throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n        }\n        if (isNativeBigIntTypedArray(input)) {\n          throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n        }\n        const data = new BufferConstructor(length * BYTES_PER_ELEMENT);\n        float16bitsArray = ReflectConstruct(NativeUint16Array, [data], new.target);\n      } else {\n        const iterator = input[SymbolIterator];\n        if (iterator != null && typeof iterator !== \"function\") {\n          throw NativeTypeError(ITERATOR_PROPERTY_IS_NOT_CALLABLE);\n        }\n        if (iterator != null) {\n          // Iterable (Array)\n          // for optimization\n          if (isOrdinaryArray(input)) {\n            list = input;\n            length = input.length;\n          } else {\n            // eslint-disable-next-line no-restricted-syntax\n            list = [... /** @type {Iterable<unknown>} */input];\n            length = list.length;\n          }\n        } else {\n          // ArrayLike\n          list = /** @type {ArrayLike<unknown>} */input;\n          length = ToLength(list.length);\n        }\n        float16bitsArray = ReflectConstruct(NativeUint16Array, [length], new.target);\n      }\n\n      // set values\n      for (let i = 0; i < length; ++i) {\n        float16bitsArray[i] = roundToFloat16Bits(list[i]);\n      }\n    } else {\n      // primitive, ArrayBuffer\n      float16bitsArray = ReflectConstruct(NativeUint16Array, arguments, new.target);\n    }\n\n    /** @type {Float16Array} */\n    const proxy = /** @type {any} */new NativeProxy(float16bitsArray, handler);\n\n    // proxy private storage\n    WeakMapPrototypeSet(float16bitsArrays, proxy, float16bitsArray);\n    return proxy;\n  }\n\n  /**\n   * limitation: `Object.getOwnPropertyNames(Float16Array)` or `Reflect.ownKeys(Float16Array)` include this key\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.from\n   */\n  static from(src) {\n    const Constructor = this;\n    if (!ReflectHas(Constructor, brand)) {\n      throw NativeTypeError(THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);\n    }\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      if (isFloat16Array(src) && (arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n        const float16bitsArray = getFloat16BitsArray(src);\n        const uint16 = new NativeUint16Array(TypedArrayPrototypeGetBuffer(float16bitsArray), TypedArrayPrototypeGetByteOffset(float16bitsArray), TypedArrayPrototypeGetLength(float16bitsArray));\n        return new Float16Array(TypedArrayPrototypeGetBuffer(TypedArrayPrototypeSlice(uint16)));\n      }\n      if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n        return new Float16Array(TypedArrayPrototypeGetBuffer(Uint16ArrayFrom(src, roundToFloat16Bits)));\n      }\n      const mapFunc = arguments.length <= 1 ? undefined : arguments[1];\n      const thisArg = arguments.length <= 2 ? undefined : arguments[2];\n      return new Float16Array(TypedArrayPrototypeGetBuffer(Uint16ArrayFrom(src, function (val) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return roundToFloat16Bits(ReflectApply(mapFunc, this, [val, ...safeIfNeeded(args)]));\n      }, thisArg)));\n    }\n\n    /** @type {ArrayLike<unknown>} */\n    let list;\n    /** @type {number} */\n    let length;\n    const iterator = src[SymbolIterator];\n    if (iterator != null && typeof iterator !== \"function\") {\n      throw NativeTypeError(ITERATOR_PROPERTY_IS_NOT_CALLABLE);\n    }\n    if (iterator != null) {\n      // Iterable (TypedArray, Array)\n      // for optimization\n      if (isOrdinaryArray(src)) {\n        list = src;\n        length = src.length;\n      } else if (isOrdinaryNativeTypedArray(src)) {\n        list = src;\n        length = TypedArrayPrototypeGetLength(src);\n      } else {\n        // eslint-disable-next-line no-restricted-syntax\n        list = [...src];\n        length = list.length;\n      }\n    } else {\n      // ArrayLike\n      if (src == null) {\n        throw NativeTypeError(CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);\n      }\n      list = NativeObject(src);\n      length = ToLength(list.length);\n    }\n    const array = new Constructor(length);\n    if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n      for (let i = 0; i < length; ++i) {\n        array[i] = /** @type {number} */list[i];\n      }\n    } else {\n      const mapFunc = arguments.length <= 1 ? undefined : arguments[1];\n      const thisArg = arguments.length <= 2 ? undefined : arguments[2];\n      for (let i = 0; i < length; ++i) {\n        array[i] = ReflectApply(mapFunc, thisArg, [list[i], i]);\n      }\n    }\n    return array;\n  }\n\n  /**\n   * limitation: `Object.getOwnPropertyNames(Float16Array)` or `Reflect.ownKeys(Float16Array)` include this key\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.of\n   */\n  static of() {\n    const Constructor = this;\n    if (!ReflectHas(Constructor, brand)) {\n      throw NativeTypeError(THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);\n    }\n    const length = arguments.length;\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      const proxy = new Float16Array(length);\n      const float16bitsArray = getFloat16BitsArray(proxy);\n      for (let i = 0; i < length; ++i) {\n        float16bitsArray[i] = roundToFloat16Bits(i < 0 || arguments.length <= i ? undefined : arguments[i]);\n      }\n      return proxy;\n    }\n    const array = new Constructor(length);\n    for (let i = 0; i < length; ++i) {\n      array[i] = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    }\n    return array;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys */\n  keys() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    return TypedArrayPrototypeKeys(float16bitsArray);\n  }\n\n  /**\n   * limitation: returns a object whose prototype is not `%ArrayIteratorPrototype%`\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\n   */\n  values() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    return wrap(function* () {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const val of TypedArrayPrototypeValues(float16bitsArray)) {\n        yield convertToNumber(val);\n      }\n    }());\n  }\n\n  /**\n   * limitation: returns a object whose prototype is not `%ArrayIteratorPrototype%`\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\n   */\n  entries() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    return wrap(function* () {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const [i, val] of TypedArrayPrototypeEntries(float16bitsArray)) {\n        yield (/** @type {[Number, number]} */[i, convertToNumber(val)]\n        );\n      }\n    }());\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.at */\n  at(index) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const relativeIndex = ToIntegerOrInfinity(index);\n    const k = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n    if (k < 0 || k >= length) {\n      return;\n    }\n    return convertToNumber(float16bitsArray[k]);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.map */\n  map(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      const proxy = new Float16Array(length);\n      const array = getFloat16BitsArray(proxy);\n      for (let i = 0; i < length; ++i) {\n        const val = convertToNumber(float16bitsArray[i]);\n        array[i] = roundToFloat16Bits(ReflectApply(callback, thisArg, [val, i, this]));\n      }\n      return proxy;\n    }\n    const array = new Constructor(length);\n    assertSpeciesTypedArray(array, length);\n    for (let i = 0; i < length; ++i) {\n      const val = convertToNumber(float16bitsArray[i]);\n      array[i] = ReflectApply(callback, thisArg, [val, i, this]);\n    }\n    return (/** @type {any} */array\n    );\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter */\n  filter(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    const kept = [];\n    for (let i = 0; i < length; ++i) {\n      const val = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [val, i, this])) {\n        ArrayPrototypePush(kept, val);\n      }\n    }\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n    const array = new Constructor(kept);\n    assertSpeciesTypedArray(array);\n    return (/** @type {any} */array\n    );\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce */\n  reduce(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    if (length === 0 && (arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n      throw NativeTypeError(REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\n    }\n    let accumulator, start;\n    if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n      accumulator = convertToNumber(float16bitsArray[0]);\n      start = 1;\n    } else {\n      accumulator = arguments.length <= 1 ? undefined : arguments[1];\n      start = 0;\n    }\n    for (let i = start; i < length; ++i) {\n      accumulator = callback(accumulator, convertToNumber(float16bitsArray[i]), i, this);\n    }\n    return accumulator;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright */\n  reduceRight(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    if (length === 0 && (arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n      throw NativeTypeError(REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\n    }\n    let accumulator, start;\n    if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 0) {\n      accumulator = convertToNumber(float16bitsArray[length - 1]);\n      start = length - 2;\n    } else {\n      accumulator = arguments.length <= 1 ? undefined : arguments[1];\n      start = length - 1;\n    }\n    for (let i = start; i >= 0; --i) {\n      accumulator = callback(accumulator, convertToNumber(float16bitsArray[i]), i, this);\n    }\n    return accumulator;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach */\n  forEach(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = 0; i < length; ++i) {\n      ReflectApply(callback, thisArg, [convertToNumber(float16bitsArray[i]), i, this]);\n    }\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.find */\n  find(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = 0; i < length; ++i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return value;\n      }\n    }\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex */\n  findIndex(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = 0; i < length; ++i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  /** @see https://tc39.es/proposal-array-find-from-last/index.html#sec-%typedarray%.prototype.findlast */\n  findLast(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = length - 1; i >= 0; --i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return value;\n      }\n    }\n  }\n\n  /** @see https://tc39.es/proposal-array-find-from-last/index.html#sec-%typedarray%.prototype.findlastindex */\n  findLastIndex(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = length - 1; i >= 0; --i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.every */\n  every(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = 0; i < length; ++i) {\n      if (!ReflectApply(callback, thisArg, [convertToNumber(float16bitsArray[i]), i, this])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.some */\n  some(callback) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = arguments.length <= 1 ? undefined : arguments[1];\n    for (let i = 0; i < length; ++i) {\n      if (ReflectApply(callback, thisArg, [convertToNumber(float16bitsArray[i]), i, this])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.set */\n  set(input) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const targetOffset = ToIntegerOrInfinity(arguments.length <= 1 ? undefined : arguments[1]);\n    if (targetOffset < 0) {\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\n    }\n    if (input == null) {\n      throw NativeTypeError(CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);\n    }\n    if (isNativeBigIntTypedArray(input)) {\n      throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n    }\n\n    // for optimization\n    if (isFloat16Array(input)) {\n      // peel off Proxy\n      return TypedArrayPrototypeSet(getFloat16BitsArray(this), getFloat16BitsArray(input), targetOffset);\n    }\n    if (isNativeTypedArray(input)) {\n      const buffer = TypedArrayPrototypeGetBuffer(input);\n      if (IsDetachedBuffer(buffer)) {\n        throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n      }\n    }\n    const targetLength = TypedArrayPrototypeGetLength(float16bitsArray);\n    const src = NativeObject(input);\n    const srcLength = ToLength(src.length);\n    if (targetOffset === Infinity || srcLength + targetOffset > targetLength) {\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\n    }\n    for (let i = 0; i < srcLength; ++i) {\n      float16bitsArray[i + targetOffset] = roundToFloat16Bits(src[i]);\n    }\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse */\n  reverse() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    TypedArrayPrototypeReverse(float16bitsArray);\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill */\n  fill(value) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    for (var _len2 = arguments.length, opts = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      opts[_key2 - 1] = arguments[_key2];\n    }\n    TypedArrayPrototypeFill(float16bitsArray, roundToFloat16Bits(value), ...safeIfNeeded(opts));\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin */\n  copyWithin(target, start) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    for (var _len3 = arguments.length, opts = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n      opts[_key3 - 2] = arguments[_key3];\n    }\n    TypedArrayPrototypeCopyWithin(float16bitsArray, target, start, ...safeIfNeeded(opts));\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort */\n  sort(compareFn) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const sortCompare = compareFn !== undefined ? compareFn : defaultCompare;\n    TypedArrayPrototypeSort(float16bitsArray, (x, y) => {\n      return sortCompare(convertToNumber(x), convertToNumber(y));\n    });\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice */\n  slice(start, end) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      const uint16 = new NativeUint16Array(TypedArrayPrototypeGetBuffer(float16bitsArray), TypedArrayPrototypeGetByteOffset(float16bitsArray), TypedArrayPrototypeGetLength(float16bitsArray));\n      return new Float16Array(TypedArrayPrototypeGetBuffer(TypedArrayPrototypeSlice(uint16, start, end)));\n    }\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const relativeStart = ToIntegerOrInfinity(start);\n    const relativeEnd = end === undefined ? length : ToIntegerOrInfinity(end);\n    let k;\n    if (relativeStart === -Infinity) {\n      k = 0;\n    } else if (relativeStart < 0) {\n      k = length + relativeStart > 0 ? length + relativeStart : 0;\n    } else {\n      k = length < relativeStart ? length : relativeStart;\n    }\n    let final;\n    if (relativeEnd === -Infinity) {\n      final = 0;\n    } else if (relativeEnd < 0) {\n      final = length + relativeEnd > 0 ? length + relativeEnd : 0;\n    } else {\n      final = length < relativeEnd ? length : relativeEnd;\n    }\n    const count = final - k > 0 ? final - k : 0;\n    const array = new Constructor(count);\n    assertSpeciesTypedArray(array, count);\n    if (count === 0) {\n      return array;\n    }\n    const buffer = TypedArrayPrototypeGetBuffer(float16bitsArray);\n    if (IsDetachedBuffer(buffer)) {\n      throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n    }\n    let n = 0;\n    while (k < final) {\n      array[n] = convertToNumber(float16bitsArray[k]);\n      ++k;\n      ++n;\n    }\n    return (/** @type {any} */array\n    );\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray */\n  subarray(begin, end) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n    const uint16 = new NativeUint16Array(TypedArrayPrototypeGetBuffer(float16bitsArray), TypedArrayPrototypeGetByteOffset(float16bitsArray), TypedArrayPrototypeGetLength(float16bitsArray));\n    const uint16Subarray = TypedArrayPrototypeSubarray(uint16, begin, end);\n    const array = new Constructor(TypedArrayPrototypeGetBuffer(uint16Subarray), TypedArrayPrototypeGetByteOffset(uint16Subarray), TypedArrayPrototypeGetLength(uint16Subarray));\n    assertSpeciesTypedArray(array);\n    return (/** @type {any} */array\n    );\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof */\n  indexOf(element) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    let from = ToIntegerOrInfinity(arguments.length <= 1 ? undefined : arguments[1]);\n    if (from === Infinity) {\n      return -1;\n    }\n    if (from < 0) {\n      from += length;\n      if (from < 0) {\n        from = 0;\n      }\n    }\n    for (let i = from; i < length; ++i) {\n      if (ObjectHasOwn(float16bitsArray, i) && convertToNumber(float16bitsArray[i]) === element) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof */\n  lastIndexOf(element) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    let from = (arguments.length <= 1 ? 0 : arguments.length - 1) >= 1 ? ToIntegerOrInfinity(arguments.length <= 1 ? undefined : arguments[1]) : length - 1;\n    if (from === -Infinity) {\n      return -1;\n    }\n    if (from >= 0) {\n      from = from < length - 1 ? from : length - 1;\n    } else {\n      from += length;\n    }\n    for (let i = from; i >= 0; --i) {\n      if (ObjectHasOwn(float16bitsArray, i) && convertToNumber(float16bitsArray[i]) === element) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes */\n  includes(element) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    let from = ToIntegerOrInfinity(arguments.length <= 1 ? undefined : arguments[1]);\n    if (from === Infinity) {\n      return false;\n    }\n    if (from < 0) {\n      from += length;\n      if (from < 0) {\n        from = 0;\n      }\n    }\n    const isNaN = NumberIsNaN(element);\n    for (let i = from; i < length; ++i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (isNaN && NumberIsNaN(value)) {\n        return true;\n      }\n      if (value === element) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.join */\n  join(separator) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const array = copyToArray(float16bitsArray);\n    return ArrayPrototypeJoin(array, separator);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring */\n  toLocaleString() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const array = copyToArray(float16bitsArray);\n    for (var _len4 = arguments.length, opts = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      opts[_key4] = arguments[_key4];\n    }\n    return ArrayPrototypeToLocaleString(array, ...safeIfNeeded(opts));\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-get-%typedarray%.prototype-@@tostringtag */\n  get [SymbolToStringTag]() {\n    if (isFloat16Array(this)) {\n      return (/** @type {any} */\"Float16Array\"\n      );\n    }\n  }\n}\n\n/** @see https://tc39.es/ecma262/#sec-typedarray.bytes_per_element */\nObjectDefineProperty(Float16Array, \"BYTES_PER_ELEMENT\", {\n  value: BYTES_PER_ELEMENT\n});\n\n// limitation: It is peaked by `Object.getOwnPropertySymbols(Float16Array)` and `Reflect.ownKeys(Float16Array)`\nObjectDefineProperty(Float16Array, brand, {});\n\n/** @see https://tc39.es/ecma262/#sec-properties-of-the-typedarray-constructors */\nReflectSetPrototypeOf(Float16Array, TypedArray);\nconst Float16ArrayPrototype = Float16Array.prototype;\n\n/** @see https://tc39.es/ecma262/#sec-typedarray.prototype.bytes_per_element */\nObjectDefineProperty(Float16ArrayPrototype, \"BYTES_PER_ELEMENT\", {\n  value: BYTES_PER_ELEMENT\n});\n\n/** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator */\nObjectDefineProperty(Float16ArrayPrototype, SymbolIterator, {\n  value: Float16ArrayPrototype.values,\n  writable: true,\n  configurable: true\n});\n\n// To make `new Float16Array() instanceof Uint16Array` returns `false`\nReflectSetPrototypeOf(Float16ArrayPrototype, TypedArrayPrototype);","map":{"version":3,"names":["safeIfNeeded","wrap","brand","hasFloat16ArrayBrand","convertToNumber","roundToFloat16Bits","isArrayBuffer","isCanonicalIntegerIndexString","isNativeBigIntTypedArray","isNativeTypedArray","isObject","isOrdinaryArray","isOrdinaryNativeTypedArray","isSharedArrayBuffer","ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER","CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT","CANNOT_MIX_BIGINT_AND_OTHER_TYPES","DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH","ITERATOR_PROPERTY_IS_NOT_CALLABLE","OFFSET_IS_OUT_OF_BOUNDS","REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE","SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT","THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY","THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT","ArrayBufferIsView","ArrayPrototypeJoin","ArrayPrototypePush","ArrayPrototypeToLocaleString","NativeArrayBuffer","NativeObject","NativeProxy","NativeRangeError","NativeTypeError","NativeUint16Array","NativeWeakMap","NativeWeakSet","NumberIsNaN","ObjectDefineProperty","ObjectFreeze","ObjectHasOwn","ObjectPrototype__lookupGetter__","ReflectApply","ReflectConstruct","ReflectDefineProperty","ReflectGet","ReflectGetOwnPropertyDescriptor","ReflectHas","ReflectOwnKeys","ReflectSet","ReflectSetPrototypeOf","SymbolIterator","SymbolToStringTag","TypedArray","TypedArrayPrototype","TypedArrayPrototypeCopyWithin","TypedArrayPrototypeEntries","TypedArrayPrototypeFill","TypedArrayPrototypeGetBuffer","TypedArrayPrototypeGetByteOffset","TypedArrayPrototypeGetLength","TypedArrayPrototypeKeys","TypedArrayPrototypeReverse","TypedArrayPrototypeSet","TypedArrayPrototypeSlice","TypedArrayPrototypeSort","TypedArrayPrototypeSubarray","TypedArrayPrototypeValues","Uint16ArrayFrom","WeakMapPrototypeGet","WeakMapPrototypeHas","WeakMapPrototypeSet","WeakSetPrototypeAdd","WeakSetPrototypeHas","IsDetachedBuffer","SpeciesConstructor","ToIntegerOrInfinity","ToLength","defaultCompare","BYTES_PER_ELEMENT","float16bitsArrays","isFloat16Array","target","assertFloat16Array","assertSpeciesTypedArray","count","isTargetFloat16Array","isTargetTypedArray","length","float16bitsArray","getFloat16BitsArray","float16","undefined","buffer","cloned","Float16Array","byteOffset","constructor","copyToArray","array","i","TypedArrayPrototypeGetters","key","descriptor","get","handler","receiver","set","value","getOwnPropertyDescriptor","defineProperty","input","_byteOffset","_length","new","list","BufferConstructor","data","iterator","arguments","proxy","from","src","Constructor","uint16","mapFunc","thisArg","val","args","of","keys","values","entries","at","index","relativeIndex","k","map","callback","filter","kept","reduce","accumulator","start","reduceRight","forEach","find","findIndex","findLast","findLastIndex","every","some","targetOffset","targetLength","srcLength","Infinity","reverse","fill","opts","copyWithin","sort","compareFn","sortCompare","x","y","slice","end","relativeStart","relativeEnd","final","n","subarray","begin","uint16Subarray","indexOf","element","lastIndexOf","includes","isNaN","join","separator","toLocaleString","Float16ArrayPrototype","prototype","writable","configurable"],"sources":["/Users/lydiaprice/quake-text/node_modules/@petamoriken/float16/src/Float16Array.mjs"],"sourcesContent":["import { safeIfNeeded, wrap } from \"./_util/arrayIterator.mjs\";\nimport { brand, hasFloat16ArrayBrand } from \"./_util/brand.mjs\";\nimport { convertToNumber, roundToFloat16Bits } from \"./_util/converter.mjs\";\nimport {\n  isArrayBuffer,\n  isCanonicalIntegerIndexString,\n  isNativeBigIntTypedArray,\n  isNativeTypedArray,\n  isObject,\n  isOrdinaryArray,\n  isOrdinaryNativeTypedArray,\n  isSharedArrayBuffer,\n} from \"./_util/is.mjs\";\nimport {\n  ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER,\n  CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT,\n  CANNOT_MIX_BIGINT_AND_OTHER_TYPES,\n  DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH,\n  ITERATOR_PROPERTY_IS_NOT_CALLABLE,\n  OFFSET_IS_OUT_OF_BOUNDS,\n  REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE,\n  SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT,\n  THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY,\n  THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT,\n} from \"./_util/messages.mjs\";\nimport {\n  ArrayBufferIsView,\n  ArrayPrototypeJoin,\n  ArrayPrototypePush,\n  ArrayPrototypeToLocaleString,\n  NativeArrayBuffer,\n  NativeObject,\n  NativeProxy,\n  NativeRangeError,\n  NativeTypeError,\n  NativeUint16Array,\n  NativeWeakMap,\n  NativeWeakSet,\n  NumberIsNaN,\n  ObjectDefineProperty,\n  ObjectFreeze,\n  ObjectHasOwn,\n  ObjectPrototype__lookupGetter__,\n  ReflectApply,\n  ReflectConstruct,\n  ReflectDefineProperty,\n  ReflectGet,\n  ReflectGetOwnPropertyDescriptor,\n  ReflectHas,\n  ReflectOwnKeys,\n  ReflectSet,\n  ReflectSetPrototypeOf,\n  SymbolIterator,\n  SymbolToStringTag,\n  TypedArray,\n  TypedArrayPrototype,\n  TypedArrayPrototypeCopyWithin,\n  TypedArrayPrototypeEntries,\n  TypedArrayPrototypeFill,\n  TypedArrayPrototypeGetBuffer,\n  TypedArrayPrototypeGetByteOffset,\n  TypedArrayPrototypeGetLength,\n  TypedArrayPrototypeKeys,\n  TypedArrayPrototypeReverse,\n  TypedArrayPrototypeSet,\n  TypedArrayPrototypeSlice,\n  TypedArrayPrototypeSort,\n  TypedArrayPrototypeSubarray,\n  TypedArrayPrototypeValues,\n  Uint16ArrayFrom,\n  WeakMapPrototypeGet,\n  WeakMapPrototypeHas,\n  WeakMapPrototypeSet,\n  WeakSetPrototypeAdd,\n  WeakSetPrototypeHas,\n} from \"./_util/primordials.mjs\";\nimport {\n  IsDetachedBuffer,\n  SpeciesConstructor,\n  ToIntegerOrInfinity,\n  ToLength,\n  defaultCompare,\n} from \"./_util/spec.mjs\";\n\nconst BYTES_PER_ELEMENT = 2;\n\n/** @typedef {Uint16Array & { __float16bits: never }} Float16BitsArray */\n\n/** @type {WeakMap<Float16Array, Float16BitsArray>} */\nconst float16bitsArrays = new NativeWeakMap();\n\n/**\n * @param {unknown} target\n * @returns {target is Float16Array}\n */\nexport function isFloat16Array(target) {\n  return WeakMapPrototypeHas(float16bitsArrays, target) ||\n    (!ArrayBufferIsView(target) && hasFloat16ArrayBrand(target));\n}\n\n/**\n * @param {unknown} target\n * @throws {TypeError}\n * @returns {asserts target is Float16Array}\n */\nfunction assertFloat16Array(target) {\n  if (!isFloat16Array(target)) {\n    throw NativeTypeError(THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT);\n  }\n}\n\n/**\n * @param {unknown} target\n * @param {number=} count\n * @throws {TypeError}\n * @returns {asserts target is Uint8Array|Uint8ClampedArray|Uint16Array|Uint32Array|Int8Array|Int16Array|Int32Array|Float16Array|Float32Array|Float64Array}\n */\nfunction assertSpeciesTypedArray(target, count) {\n  const isTargetFloat16Array = isFloat16Array(target);\n  const isTargetTypedArray = isNativeTypedArray(target);\n\n  if (!isTargetFloat16Array && !isTargetTypedArray) {\n    throw NativeTypeError(SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);\n  }\n\n  if (typeof count === \"number\") {\n    let length;\n    if (isTargetFloat16Array) {\n      const float16bitsArray = getFloat16BitsArray(target);\n      length = TypedArrayPrototypeGetLength(float16bitsArray);\n    } else {\n      length = TypedArrayPrototypeGetLength(target);\n    }\n\n    if (length < count) {\n      throw NativeTypeError(\n        DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH\n      );\n    }\n  }\n\n  if (isNativeBigIntTypedArray(target)) {\n    throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n  }\n}\n\n/**\n * @param {Float16Array} float16\n * @throws {TypeError}\n * @returns {Float16BitsArray}\n */\nfunction getFloat16BitsArray(float16) {\n  const float16bitsArray = WeakMapPrototypeGet(float16bitsArrays, float16);\n  if (float16bitsArray !== undefined) {\n    const buffer = TypedArrayPrototypeGetBuffer(float16bitsArray);\n\n    if (IsDetachedBuffer(buffer)) {\n      throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n    }\n\n    return float16bitsArray;\n  }\n\n  // from another Float16Array instance (a different version?)\n  const buffer = /** @type {any} */ (float16).buffer;\n\n  if (IsDetachedBuffer(buffer)) {\n    throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n  }\n\n  const cloned = ReflectConstruct(Float16Array, [\n    buffer,\n    /** @type {any} */ (float16).byteOffset,\n    /** @type {any} */ (float16).length,\n  ], float16.constructor);\n  return WeakMapPrototypeGet(float16bitsArrays, cloned);\n}\n\n/**\n * @param {Float16BitsArray} float16bitsArray\n * @returns {number[]}\n */\nfunction copyToArray(float16bitsArray) {\n  const length = TypedArrayPrototypeGetLength(float16bitsArray);\n\n  const array = [];\n  for (let i = 0; i < length; ++i) {\n    array[i] = convertToNumber(float16bitsArray[i]);\n  }\n\n  return array;\n}\n\n/** @type {WeakSet<Function>} */\nconst TypedArrayPrototypeGetters = new NativeWeakSet();\nfor (const key of ReflectOwnKeys(TypedArrayPrototype)) {\n  // @@toStringTag getter property is defined in Float16Array.prototype\n  if (key === SymbolToStringTag) {\n    continue;\n  }\n\n  const descriptor = ReflectGetOwnPropertyDescriptor(TypedArrayPrototype, key);\n  if (ObjectHasOwn(descriptor, \"get\") && typeof descriptor.get === \"function\") {\n    WeakSetPrototypeAdd(TypedArrayPrototypeGetters, descriptor.get);\n  }\n}\n\nconst handler = ObjectFreeze(/** @type {ProxyHandler<Float16BitsArray>} */ ({\n  get(target, key, receiver) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\n      return convertToNumber(ReflectGet(target, key));\n    }\n\n    // %TypedArray%.prototype getter properties cannot called by Proxy receiver\n    if (WeakSetPrototypeHas(TypedArrayPrototypeGetters, ObjectPrototype__lookupGetter__(target, key))) {\n      return ReflectGet(target, key);\n    }\n\n    return ReflectGet(target, key, receiver);\n  },\n\n  set(target, key, value, receiver) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\n      return ReflectSet(target, key, roundToFloat16Bits(value));\n    }\n\n    return ReflectSet(target, key, value, receiver);\n  },\n\n  getOwnPropertyDescriptor(target, key) {\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\n      const descriptor = ReflectGetOwnPropertyDescriptor(target, key);\n      descriptor.value = convertToNumber(descriptor.value);\n      return descriptor;\n    }\n\n    return ReflectGetOwnPropertyDescriptor(target, key);\n  },\n\n  defineProperty(target, key, descriptor) {\n    if (\n      isCanonicalIntegerIndexString(key) &&\n      ObjectHasOwn(target, key) &&\n      ObjectHasOwn(descriptor, \"value\")\n    ) {\n      descriptor.value = roundToFloat16Bits(descriptor.value);\n      return ReflectDefineProperty(target, key, descriptor);\n    }\n\n    return ReflectDefineProperty(target, key, descriptor);\n  },\n}));\n\nexport class Float16Array {\n  /** @see https://tc39.es/ecma262/#sec-typedarray */\n  constructor(input, _byteOffset, _length) {\n    /** @type {Float16BitsArray} */\n    let float16bitsArray;\n\n    if (isFloat16Array(input)) {\n      float16bitsArray = ReflectConstruct(NativeUint16Array, [getFloat16BitsArray(input)], new.target);\n    } else if (isObject(input) && !isArrayBuffer(input)) { // object without ArrayBuffer\n      /** @type {ArrayLike<unknown>} */\n      let list;\n      /** @type {number} */\n      let length;\n\n      if (isNativeTypedArray(input)) { // TypedArray\n        list = input;\n        length = TypedArrayPrototypeGetLength(input);\n\n        const buffer = TypedArrayPrototypeGetBuffer(input);\n        const BufferConstructor = !isSharedArrayBuffer(buffer)\n          ? /** @type {ArrayBufferConstructor} */ (SpeciesConstructor(\n            buffer,\n            NativeArrayBuffer\n          ))\n          : NativeArrayBuffer;\n\n        if (IsDetachedBuffer(buffer)) {\n          throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n        }\n\n        if (isNativeBigIntTypedArray(input)) {\n          throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n        }\n\n        const data = new BufferConstructor(\n          length * BYTES_PER_ELEMENT\n        );\n        float16bitsArray = ReflectConstruct(NativeUint16Array, [data], new.target);\n      } else {\n        const iterator = input[SymbolIterator];\n        if (iterator != null && typeof iterator !== \"function\") {\n          throw NativeTypeError(ITERATOR_PROPERTY_IS_NOT_CALLABLE);\n        }\n\n        if (iterator != null) { // Iterable (Array)\n          // for optimization\n          if (isOrdinaryArray(input)) {\n            list = input;\n            length = input.length;\n          } else {\n            // eslint-disable-next-line no-restricted-syntax\n            list = [... /** @type {Iterable<unknown>} */ (input)];\n            length = list.length;\n          }\n        } else { // ArrayLike\n          list = /** @type {ArrayLike<unknown>} */ (input);\n          length = ToLength(list.length);\n        }\n        float16bitsArray = ReflectConstruct(NativeUint16Array, [length], new.target);\n      }\n\n      // set values\n      for (let i = 0; i < length; ++i) {\n        float16bitsArray[i] = roundToFloat16Bits(list[i]);\n      }\n    } else { // primitive, ArrayBuffer\n      float16bitsArray = ReflectConstruct(NativeUint16Array, arguments, new.target);\n    }\n\n    /** @type {Float16Array} */\n    const proxy = /** @type {any} */ (new NativeProxy(float16bitsArray, handler));\n\n    // proxy private storage\n    WeakMapPrototypeSet(float16bitsArrays, proxy, float16bitsArray);\n\n    return proxy;\n  }\n\n  /**\n   * limitation: `Object.getOwnPropertyNames(Float16Array)` or `Reflect.ownKeys(Float16Array)` include this key\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.from\n   */\n  static from(src, ...opts) {\n    const Constructor = this;\n\n    if (!ReflectHas(Constructor, brand)) {\n      throw NativeTypeError(\n        THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY\n      );\n    }\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      if (isFloat16Array(src) && opts.length === 0) {\n        const float16bitsArray = getFloat16BitsArray(src);\n        const uint16 = new NativeUint16Array(\n          TypedArrayPrototypeGetBuffer(float16bitsArray),\n          TypedArrayPrototypeGetByteOffset(float16bitsArray),\n          TypedArrayPrototypeGetLength(float16bitsArray)\n        );\n        return new Float16Array(\n          TypedArrayPrototypeGetBuffer(TypedArrayPrototypeSlice(uint16))\n        );\n      }\n\n      if (opts.length === 0) {\n        return new Float16Array(\n          TypedArrayPrototypeGetBuffer(\n            Uint16ArrayFrom(src, roundToFloat16Bits)\n          )\n        );\n      }\n\n      const mapFunc = opts[0];\n      const thisArg = opts[1];\n\n      return new Float16Array(\n        TypedArrayPrototypeGetBuffer(\n          Uint16ArrayFrom(src, function (val, ...args) {\n            return roundToFloat16Bits(\n              ReflectApply(mapFunc, this, [val, ...safeIfNeeded(args)])\n            );\n          }, thisArg)\n        )\n      );\n    }\n\n    /** @type {ArrayLike<unknown>} */\n    let list;\n    /** @type {number} */\n    let length;\n\n    const iterator = src[SymbolIterator];\n    if (iterator != null && typeof iterator !== \"function\") {\n      throw NativeTypeError(ITERATOR_PROPERTY_IS_NOT_CALLABLE);\n    }\n\n    if (iterator != null) { // Iterable (TypedArray, Array)\n      // for optimization\n      if (isOrdinaryArray(src)) {\n        list = src;\n        length = src.length;\n      } else if (isOrdinaryNativeTypedArray(src)) {\n        list = src;\n        length = TypedArrayPrototypeGetLength(src);\n      } else {\n        // eslint-disable-next-line no-restricted-syntax\n        list = [...src];\n        length = list.length;\n      }\n    } else { // ArrayLike\n      if (src == null) {\n        throw NativeTypeError(\n          CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT\n        );\n      }\n      list = NativeObject(src);\n      length = ToLength(list.length);\n    }\n\n    const array = new Constructor(length);\n\n    if (opts.length === 0) {\n      for (let i = 0; i < length; ++i) {\n        array[i] = /** @type {number} */ (list[i]);\n      }\n    } else {\n      const mapFunc = opts[0];\n      const thisArg = opts[1];\n      for (let i = 0; i < length; ++i) {\n        array[i] = ReflectApply(mapFunc, thisArg, [list[i], i]);\n      }\n    }\n\n    return array;\n  }\n\n  /**\n   * limitation: `Object.getOwnPropertyNames(Float16Array)` or `Reflect.ownKeys(Float16Array)` include this key\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.of\n   */\n  static of(...items) {\n    const Constructor = this;\n\n    if (!ReflectHas(Constructor, brand)) {\n      throw NativeTypeError(\n        THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY\n      );\n    }\n\n    const length = items.length;\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      const proxy = new Float16Array(length);\n      const float16bitsArray = getFloat16BitsArray(proxy);\n\n      for (let i = 0; i < length; ++i) {\n        float16bitsArray[i] = roundToFloat16Bits(items[i]);\n      }\n\n      return proxy;\n    }\n\n    const array = new Constructor(length);\n\n    for (let i = 0; i < length; ++i) {\n      array[i] = items[i];\n    }\n\n    return array;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys */\n  keys() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    return TypedArrayPrototypeKeys(float16bitsArray);\n  }\n\n  /**\n   * limitation: returns a object whose prototype is not `%ArrayIteratorPrototype%`\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\n   */\n  values() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    return wrap((function* () {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const val of TypedArrayPrototypeValues(float16bitsArray)) {\n        yield convertToNumber(val);\n      }\n    })());\n  }\n\n  /**\n   * limitation: returns a object whose prototype is not `%ArrayIteratorPrototype%`\n   *\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\n   */\n  entries() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    return wrap((function* () {\n      // eslint-disable-next-line no-restricted-syntax\n      for (const [i, val] of TypedArrayPrototypeEntries(float16bitsArray)) {\n        yield /** @type {[Number, number]} */ ([i, convertToNumber(val)]);\n      }\n    })());\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.at */\n  at(index) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const relativeIndex = ToIntegerOrInfinity(index);\n    const k = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n\n    if (k < 0 || k >= length) {\n      return;\n    }\n\n    return convertToNumber(float16bitsArray[k]);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.map */\n  map(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      const proxy = new Float16Array(length);\n      const array = getFloat16BitsArray(proxy);\n\n      for (let i = 0; i < length; ++i) {\n        const val = convertToNumber(float16bitsArray[i]);\n        array[i] = roundToFloat16Bits(\n          ReflectApply(callback, thisArg, [val, i, this])\n        );\n      }\n\n      return proxy;\n    }\n\n    const array = new Constructor(length);\n    assertSpeciesTypedArray(array, length);\n\n    for (let i = 0; i < length; ++i) {\n      const val = convertToNumber(float16bitsArray[i]);\n      array[i] = ReflectApply(callback, thisArg, [val, i, this]);\n    }\n\n    return /** @type {any} */ (array);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter */\n  filter(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    const kept = [];\n    for (let i = 0; i < length; ++i) {\n      const val = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [val, i, this])) {\n        ArrayPrototypePush(kept, val);\n      }\n    }\n\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n    const array = new Constructor(kept);\n    assertSpeciesTypedArray(array);\n\n    return /** @type {any} */ (array);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce */\n  reduce(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    if (length === 0 && opts.length === 0) {\n      throw NativeTypeError(REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\n    }\n\n    let accumulator, start;\n    if (opts.length === 0) {\n      accumulator = convertToNumber(float16bitsArray[0]);\n      start = 1;\n    } else {\n      accumulator = opts[0];\n      start = 0;\n    }\n\n    for (let i = start; i < length; ++i) {\n      accumulator = callback(\n        accumulator,\n        convertToNumber(float16bitsArray[i]),\n        i,\n        this\n      );\n    }\n\n    return accumulator;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright */\n  reduceRight(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    if (length === 0 && opts.length === 0) {\n      throw NativeTypeError(REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\n    }\n\n    let accumulator, start;\n    if (opts.length === 0) {\n      accumulator = convertToNumber(float16bitsArray[length - 1]);\n      start = length - 2;\n    } else {\n      accumulator = opts[0];\n      start = length - 1;\n    }\n\n    for (let i = start; i >= 0; --i) {\n      accumulator = callback(\n        accumulator,\n        convertToNumber(float16bitsArray[i]),\n        i,\n        this\n      );\n    }\n\n    return accumulator;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach */\n  forEach(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      ReflectApply(callback, thisArg, [\n        convertToNumber(float16bitsArray[i]),\n        i,\n        this,\n      ]);\n    }\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.find */\n  find(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return value;\n      }\n    }\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex */\n  findIndex(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /** @see https://tc39.es/proposal-array-find-from-last/index.html#sec-%typedarray%.prototype.findlast */\n  findLast(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = length - 1; i >= 0; --i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return value;\n      }\n    }\n  }\n\n  /** @see https://tc39.es/proposal-array-find-from-last/index.html#sec-%typedarray%.prototype.findlastindex */\n  findLastIndex(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = length - 1; i >= 0; --i) {\n      const value = convertToNumber(float16bitsArray[i]);\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.every */\n  every(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      if (\n        !ReflectApply(callback, thisArg, [\n          convertToNumber(float16bitsArray[i]),\n          i,\n          this,\n        ])\n      ) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.some */\n  some(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      if (\n        ReflectApply(callback, thisArg, [\n          convertToNumber(float16bitsArray[i]),\n          i,\n          this,\n        ])\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.set */\n  set(input, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const targetOffset = ToIntegerOrInfinity(opts[0]);\n    if (targetOffset < 0) {\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\n    }\n\n    if (input == null) {\n      throw NativeTypeError(\n        CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT\n      );\n    }\n\n    if (isNativeBigIntTypedArray(input)) {\n      throw NativeTypeError(\n        CANNOT_MIX_BIGINT_AND_OTHER_TYPES\n      );\n    }\n\n    // for optimization\n    if (isFloat16Array(input)) {\n      // peel off Proxy\n      return TypedArrayPrototypeSet(\n        getFloat16BitsArray(this),\n        getFloat16BitsArray(input),\n        targetOffset\n      );\n    }\n\n    if (isNativeTypedArray(input)) {\n      const buffer = TypedArrayPrototypeGetBuffer(input);\n      if (IsDetachedBuffer(buffer)) {\n        throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n      }\n    }\n\n    const targetLength = TypedArrayPrototypeGetLength(float16bitsArray);\n\n    const src = NativeObject(input);\n    const srcLength = ToLength(src.length);\n\n    if (targetOffset === Infinity || srcLength + targetOffset > targetLength) {\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\n    }\n\n    for (let i = 0; i < srcLength; ++i) {\n      float16bitsArray[i + targetOffset] = roundToFloat16Bits(src[i]);\n    }\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse */\n  reverse() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    TypedArrayPrototypeReverse(float16bitsArray);\n\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill */\n  fill(value, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    TypedArrayPrototypeFill(\n      float16bitsArray,\n      roundToFloat16Bits(value),\n      ...safeIfNeeded(opts)\n    );\n\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin */\n  copyWithin(target, start, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    TypedArrayPrototypeCopyWithin(float16bitsArray, target, start, ...safeIfNeeded(opts));\n\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort */\n  sort(compareFn) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const sortCompare = compareFn !== undefined ? compareFn : defaultCompare;\n    TypedArrayPrototypeSort(float16bitsArray, (x, y) => {\n      return sortCompare(convertToNumber(x), convertToNumber(y));\n    });\n\n    return this;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice */\n  slice(start, end) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n\n    // for optimization\n    if (Constructor === Float16Array) {\n      const uint16 = new NativeUint16Array(\n        TypedArrayPrototypeGetBuffer(float16bitsArray),\n        TypedArrayPrototypeGetByteOffset(float16bitsArray),\n        TypedArrayPrototypeGetLength(float16bitsArray)\n      );\n      return new Float16Array(\n        TypedArrayPrototypeGetBuffer(\n          TypedArrayPrototypeSlice(uint16, start, end)\n        )\n      );\n    }\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n    const relativeStart = ToIntegerOrInfinity(start);\n    const relativeEnd = end === undefined ? length : ToIntegerOrInfinity(end);\n\n    let k;\n    if (relativeStart === -Infinity) {\n      k = 0;\n    } else if (relativeStart < 0) {\n      k = length + relativeStart > 0 ? length + relativeStart : 0;\n    } else {\n      k = length < relativeStart ? length : relativeStart;\n    }\n\n    let final;\n    if (relativeEnd === -Infinity) {\n      final = 0;\n    } else if (relativeEnd < 0) {\n      final = length + relativeEnd > 0 ? length + relativeEnd : 0;\n    } else {\n      final = length < relativeEnd ? length : relativeEnd;\n    }\n\n    const count = final - k > 0 ? final - k : 0;\n    const array = new Constructor(count);\n    assertSpeciesTypedArray(array, count);\n\n    if (count === 0) {\n      return array;\n    }\n\n    const buffer = TypedArrayPrototypeGetBuffer(float16bitsArray);\n    if (IsDetachedBuffer(buffer)) {\n      throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n    }\n\n    let n = 0;\n    while (k < final) {\n      array[n] = convertToNumber(float16bitsArray[k]);\n      ++k;\n      ++n;\n    }\n\n    return /** @type {any} */ (array);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray */\n  subarray(begin, end) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\n\n    const uint16 = new NativeUint16Array(\n      TypedArrayPrototypeGetBuffer(float16bitsArray),\n      TypedArrayPrototypeGetByteOffset(float16bitsArray),\n      TypedArrayPrototypeGetLength(float16bitsArray)\n    );\n    const uint16Subarray = TypedArrayPrototypeSubarray(uint16, begin, end);\n\n    const array = new Constructor(\n      TypedArrayPrototypeGetBuffer(uint16Subarray),\n      TypedArrayPrototypeGetByteOffset(uint16Subarray),\n      TypedArrayPrototypeGetLength(uint16Subarray)\n    );\n    assertSpeciesTypedArray(array);\n\n    return /** @type {any} */ (array);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof */\n  indexOf(element, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n\n    let from = ToIntegerOrInfinity(opts[0]);\n    if (from === Infinity) {\n      return -1;\n    }\n\n    if (from < 0) {\n      from += length;\n      if (from < 0) {\n        from = 0;\n      }\n    }\n\n    for (let i = from; i < length; ++i) {\n      if (\n        ObjectHasOwn(float16bitsArray, i) &&\n        convertToNumber(float16bitsArray[i]) === element\n      ) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof */\n  lastIndexOf(element, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n\n    let from = opts.length >= 1 ? ToIntegerOrInfinity(opts[0]) : length - 1;\n    if (from === -Infinity) {\n      return -1;\n    }\n\n    if (from >= 0) {\n      from = from < length - 1 ? from : length - 1;\n    } else {\n      from += length;\n    }\n\n    for (let i = from; i >= 0; --i) {\n      if (\n        ObjectHasOwn(float16bitsArray, i) &&\n        convertToNumber(float16bitsArray[i]) === element\n      ) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes */\n  includes(element, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\n\n    let from = ToIntegerOrInfinity(opts[0]);\n    if (from === Infinity) {\n      return false;\n    }\n\n    if (from < 0) {\n      from += length;\n      if (from < 0) {\n        from = 0;\n      }\n    }\n\n    const isNaN = NumberIsNaN(element);\n    for (let i = from; i < length; ++i) {\n      const value = convertToNumber(float16bitsArray[i]);\n\n      if (isNaN && NumberIsNaN(value)) {\n        return true;\n      }\n\n      if (value === element) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.join */\n  join(separator) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const array = copyToArray(float16bitsArray);\n\n    return ArrayPrototypeJoin(array, separator);\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring */\n  toLocaleString(...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n\n    const array = copyToArray(float16bitsArray);\n\n    return ArrayPrototypeToLocaleString(array, ...safeIfNeeded(opts));\n  }\n\n  /** @see https://tc39.es/ecma262/#sec-get-%typedarray%.prototype-@@tostringtag */\n  get [SymbolToStringTag]() {\n    if (isFloat16Array(this)) {\n      return /** @type {any} */ (\"Float16Array\");\n    }\n  }\n}\n\n/** @see https://tc39.es/ecma262/#sec-typedarray.bytes_per_element */\nObjectDefineProperty(Float16Array, \"BYTES_PER_ELEMENT\", {\n  value: BYTES_PER_ELEMENT,\n});\n\n// limitation: It is peaked by `Object.getOwnPropertySymbols(Float16Array)` and `Reflect.ownKeys(Float16Array)`\nObjectDefineProperty(Float16Array, brand, {});\n\n/** @see https://tc39.es/ecma262/#sec-properties-of-the-typedarray-constructors */\nReflectSetPrototypeOf(Float16Array, TypedArray);\n\nconst Float16ArrayPrototype = Float16Array.prototype;\n\n/** @see https://tc39.es/ecma262/#sec-typedarray.prototype.bytes_per_element */\nObjectDefineProperty(Float16ArrayPrototype, \"BYTES_PER_ELEMENT\", {\n  value: BYTES_PER_ELEMENT,\n});\n\n/** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator */\nObjectDefineProperty(Float16ArrayPrototype, SymbolIterator, {\n  value: Float16ArrayPrototype.values,\n  writable: true,\n  configurable: true,\n});\n\n// To make `new Float16Array() instanceof Uint16Array` returns `false`\nReflectSetPrototypeOf(Float16ArrayPrototype, TypedArrayPrototype);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}